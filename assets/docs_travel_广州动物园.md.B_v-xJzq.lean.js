import{d as se,aI as me,h as k,aJ as Ce,H as Se,k as w,y as ue,U as ve,l as pe,o as p,b as ne,J as f,w as L,m as y,n as h,p as e,Q as de,a4 as Ie,e as x,c as b,F as X,L as Le,G as ge,ah as xe,ai as Ee,r as ae,T as Ne,aD as Oe,af as Te,t as he,N as $e,ab as Re,aH as De,a as Ae}from"./chunks/framework.BDLh4cc2.js";import{d as Be,m as ye,u as B,E as D}from"./chunks/base.CSYa1cN3.js";import{i as A,c as Me,e as _e,f as F,l as fe,ap as Ve,aq as je,p as we,u as be,ad as Pe,E as O,A as He,D as Ye,F as Fe,ar as Xe,as as We,at as Ke,au as Je,_ as ke,ao as Ue,w as ze,R as qe,av as Ge}from"./chunks/index.Cdmzkj5s.js";import{u as Ze,g as Qe}from"./chunks/index.DCHHV7Ii.js";const et=(o,u)=>{if(!A||!o||!u)return!1;const n=o.getBoundingClientRect();let i;return u instanceof Element?i=u.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right};var tt="Expected a function";function ce(o,u,n){var i=!0,l=!0;if(typeof o!="function")throw new TypeError(tt);return Me(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),Be(o,u,{leading:i,maxWait:u,trailing:l})}const at=_e({urlList:{type:F(Array),default:()=>ye([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:F(String)}}),nt={close:()=>!0,switch:o=>fe(o),rotate:o=>fe(o)},st=["src","crossorigin"],ot=se({name:"ElImageViewer"}),lt=se({...ot,props:at,emits:nt,setup(o,{expose:u,emit:n}){var i;const l=o,g={CONTAIN:{name:"contain",icon:me(Ve)},ORIGINAL:{name:"original",icon:me(je)}},{t:oe}=we(),d=be("image-viewer"),{nextZIndex:M}=Pe(),E=k(),N=k([]),T=Ce(),z=k(!0),m=k(l.initialIndex),$=Se(g.CONTAIN),r=k({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),V=k((i=l.zIndex)!=null?i:M()),le=w(()=>{const{urlList:a}=l;return a.length<=1}),W=w(()=>m.value===0),K=w(()=>m.value===l.urlList.length-1),j=w(()=>l.urlList[m.value]),re=w(()=>[d.e("btn"),d.e("prev"),d.is("disabled",!l.infinite&&W.value)]),J=w(()=>[d.e("btn"),d.e("next"),d.is("disabled",!l.infinite&&K.value)]),P=w(()=>{const{scale:a,deg:s,offsetX:c,offsetY:C,enableTransition:I}=r.value;let _=c/a,S=C/a;switch(s%360){case 90:case-270:[_,S]=[S,-_];break;case 180:case-180:[_,S]=[-_,-S];break;case 270:case-90:[_,S]=[-S,_];break}const R={transform:`scale(${a}) rotate(${s}deg) translate(${_}px, ${S}px)`,transition:I?"transform .3s":""};return $.value.name===g.CONTAIN.name&&(R.maxWidth=R.maxHeight="100%"),R});function H(){U(),n("close")}function ie(){const a=ce(c=>{switch(c.code){case D.esc:l.closeOnPressEscape&&H();break;case D.space:ee();break;case D.left:te();break;case D.up:v("zoomIn");break;case D.right:t();break;case D.down:v("zoomOut");break}}),s=ce(c=>{const C=c.deltaY||c.deltaX;v(C<0?"zoomIn":"zoomOut",{zoomRate:l.zoomRate,enableTransition:!1})});T.run(()=>{B(document,"keydown",a),B(document,"wheel",s)})}function U(){T.stop()}function q(){z.value=!1}function G(a){z.value=!1,a.target.alt=oe("el.image.error")}function Z(a){if(z.value||a.button!==0||!E.value)return;r.value.enableTransition=!1;const{offsetX:s,offsetY:c}=r.value,C=a.pageX,I=a.pageY,_=ce(R=>{r.value={...r.value,offsetX:s+R.pageX-C,offsetY:c+R.pageY-I}}),S=B(document,"mousemove",_);B(document,"mouseup",()=>{S()}),a.preventDefault()}function Q(){r.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function ee(){if(z.value)return;const a=Ue(g),s=Object.values(g),c=$.value.name,I=(s.findIndex(_=>_.name===c)+1)%a.length;$.value=g[a[I]],Q()}function Y(a){const s=l.urlList.length;m.value=(a+s)%s}function te(){W.value&&!l.infinite||Y(m.value-1)}function t(){K.value&&!l.infinite||Y(m.value+1)}function v(a,s={}){if(z.value)return;const{minScale:c,maxScale:C}=l,{zoomRate:I,rotateDeg:_,enableTransition:S}={zoomRate:l.zoomRate,rotateDeg:90,enableTransition:!0,...s};switch(a){case"zoomOut":r.value.scale>c&&(r.value.scale=Number.parseFloat((r.value.scale/I).toFixed(3)));break;case"zoomIn":r.value.scale<C&&(r.value.scale=Number.parseFloat((r.value.scale*I).toFixed(3)));break;case"clockwise":r.value.deg+=_,n("rotate",r.value.deg);break;case"anticlockwise":r.value.deg-=_,n("rotate",r.value.deg);break}r.value.enableTransition=S}return ue(j,()=>{ve(()=>{const a=N.value[0];a!=null&&a.complete||(z.value=!0)})}),ue(m,a=>{Q(),n("switch",a)}),pe(()=>{var a,s;ie(),(s=(a=E.value)==null?void 0:a.focus)==null||s.call(a)}),u({setActiveItem:Y}),(a,s)=>(p(),ne(Oe,{to:"body",disabled:!a.teleported},[f(Ne,{name:"viewer-fade",appear:""},{default:L(()=>[y("div",{ref_key:"wrapper",ref:E,tabindex:-1,class:h(e(d).e("wrapper")),style:de({zIndex:V.value})},[y("div",{class:h(e(d).e("mask")),onClick:s[0]||(s[0]=Ie(c=>a.hideOnClickModal&&H(),["self"]))},null,2),x(" CLOSE "),y("span",{class:h([e(d).e("btn"),e(d).e("close")]),onClick:H},[f(e(O),null,{default:L(()=>[f(e(He))]),_:1})],2),x(" ARROW "),e(le)?x("v-if",!0):(p(),b(X,{key:0},[y("span",{class:h(e(re)),onClick:te},[f(e(O),null,{default:L(()=>[f(e(Ye))]),_:1})],2),y("span",{class:h(e(J)),onClick:t},[f(e(O),null,{default:L(()=>[f(e(Fe))]),_:1})],2)],64)),x(" ACTIONS "),y("div",{class:h([e(d).e("btn"),e(d).e("actions")])},[y("div",{class:h(e(d).e("actions__inner"))},[f(e(O),{onClick:s[1]||(s[1]=c=>v("zoomOut"))},{default:L(()=>[f(e(Xe))]),_:1}),f(e(O),{onClick:s[2]||(s[2]=c=>v("zoomIn"))},{default:L(()=>[f(e(We))]),_:1}),y("i",{class:h(e(d).e("actions__divider"))},null,2),f(e(O),{onClick:ee},{default:L(()=>[(p(),ne(Le(e($).icon)))]),_:1}),y("i",{class:h(e(d).e("actions__divider"))},null,2),f(e(O),{onClick:s[3]||(s[3]=c=>v("anticlockwise"))},{default:L(()=>[f(e(Ke))]),_:1}),f(e(O),{onClick:s[4]||(s[4]=c=>v("clockwise"))},{default:L(()=>[f(e(Je))]),_:1})],2)],2),x(" CANVAS "),y("div",{class:h(e(d).e("canvas"))},[(p(!0),b(X,null,ge(a.urlList,(c,C)=>xe((p(),b("img",{ref_for:!0,ref:I=>N.value[C]=I,key:c,src:c,style:de(e(P)),class:h(e(d).e("img")),crossorigin:a.crossorigin,onLoad:q,onError:G,onMousedown:Z},null,46,st)),[[Ee,C===m.value]])),128))],2),ae(a.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var rt=ke(lt,[["__file","image-viewer.vue"]]);const it=ze(rt),ct=_e({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:F([String,Object])},previewSrcList:{type:F(Array),default:()=>ye([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:F(String)}}),ut={load:o=>o instanceof Event,error:o=>o instanceof Event,switch:o=>fe(o),close:()=>!0,show:()=>!0},dt=["src","loading","crossorigin"],ft={key:0},mt=se({name:"ElImage",inheritAttrs:!1}),vt=se({...mt,props:ct,emits:ut,setup(o,{emit:u}){const n=o;let i="";const{t:l}=we(),g=be("image"),oe=Te(),d=Ze(),M=k(),E=k(!1),N=k(!0),T=k(!1),z=k(),m=k(),$=A&&"loading"in HTMLImageElement.prototype;let r,V;const le=w(()=>[g.e("inner"),j.value&&g.e("preview"),N.value&&g.is("loading")]),W=w(()=>oe.style),K=w(()=>{const{fit:t}=n;return A&&t?{objectFit:t}:{}}),j=w(()=>{const{previewSrcList:t}=n;return Array.isArray(t)&&t.length>0}),re=w(()=>{const{previewSrcList:t,initialIndex:v}=n;let a=v;return v>t.length-1&&(a=0),a}),J=w(()=>n.loading==="eager"?!1:!$&&n.loading==="lazy"||n.lazy),P=()=>{A&&(N.value=!0,E.value=!1,M.value=n.src)};function H(t){N.value=!1,E.value=!1,u("load",t)}function ie(t){N.value=!1,E.value=!0,u("error",t)}function U(){et(z.value,m.value)&&(P(),Z())}const q=Ge(U,200,!0);async function G(){var t;if(!A)return;await ve();const{scrollContainer:v}=n;qe(v)?m.value=v:Re(v)&&v!==""?m.value=(t=document.querySelector(v))!=null?t:void 0:z.value&&(m.value=Qe(z.value)),m.value&&(r=B(m,"scroll",q),setTimeout(()=>U(),100))}function Z(){!A||!m.value||!q||(r==null||r(),m.value=void 0)}function Q(t){if(t.ctrlKey){if(t.deltaY<0)return t.preventDefault(),!1;if(t.deltaY>0)return t.preventDefault(),!1}}function ee(){j.value&&(V=B("wheel",Q,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",T.value=!0,u("show"))}function Y(){V==null||V(),document.body.style.overflow=i,T.value=!1,u("close")}function te(t){u("switch",t)}return ue(()=>n.src,()=>{J.value?(N.value=!0,E.value=!1,Z(),G()):P()}),pe(()=>{J.value?G():P()}),(t,v)=>(p(),b("div",{ref_key:"container",ref:z,class:h([e(g).b(),t.$attrs.class]),style:de(e(W))},[E.value?ae(t.$slots,"error",{key:0},()=>[y("div",{class:h(e(g).e("error"))},he(e(l)("el.image.error")),3)]):(p(),b(X,{key:1},[M.value!==void 0?(p(),b("img",$e({key:0},e(d),{src:M.value,loading:t.loading,style:e(K),class:e(le),crossorigin:t.crossorigin,onClick:ee,onLoad:H,onError:ie}),null,16,dt)):x("v-if",!0),N.value?(p(),b("div",{key:1,class:h(e(g).e("wrapper"))},[ae(t.$slots,"placeholder",{},()=>[y("div",{class:h(e(g).e("placeholder"))},null,2)])],2)):x("v-if",!0)],64)),e(j)?(p(),b(X,{key:2},[T.value?(p(),ne(e(it),{key:0,"z-index":t.zIndex,"initial-index":e(re),infinite:t.infinite,"zoom-rate":t.zoomRate,"min-scale":t.minScale,"max-scale":t.maxScale,"url-list":t.previewSrcList,"hide-on-click-modal":t.hideOnClickModal,teleported:t.previewTeleported,"close-on-press-escape":t.closeOnPressEscape,onClose:Y,onSwitch:te},{default:L(()=>[t.$slots.viewer?(p(),b("div",ft,[ae(t.$slots,"viewer")])):x("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):x("v-if",!0)],64)):x("v-if",!0)],6))}});var pt=ke(vt,[["__file","image.vue"]]);const gt=ze(pt),ht={__name:"BackMap",setup(o){const u=De(),n=()=>{u.go("/blog/docs/map")};return(i,l)=>(p(),b("div",{class:"absolute top--30px left--100px cursor-pointer",onClick:n},he("<-")+" Back Map "))}},yt={__name:"ImgPreview",props:{imgList:{type:Array,default:()=>[]}},setup(o){return(u,n)=>{const i=gt;return p(),b("div",null,[(p(!0),b(X,null,ge(o.imgList,(l,g)=>(p(),ne(i,{key:g,class:"w-100% border-rd-8px",style:{border:"1px solid #eeeeee"},src:l,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,lazy:"","hide-on-click-modal":"","initial-index":g,"preview-src-list":o.imgList,fit:"cover"},null,8,["src","initial-index","preview-src-list"]))),128))])}}},_t=y("h2",{id:"广州动物园",tabindex:"-1"},[Ae("广州动物园 "),y("a",{class:"header-anchor",href:"#广州动物园","aria-label":'Permalink to "广州动物园"'},"​")],-1),wt=y("p",null,"平安夜去动物园拍照了！",-1),It=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/travel/广州动物园.md","filePath":"docs/travel/广州动物园.md","lastUpdated":1708964888000}'),bt={name:"docs/travel/广州动物园.md"},Lt=Object.assign(bt,{setup(o){const u=["https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0432.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0410.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0408.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0388.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0360.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0324.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0288.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0203.jpg","https://monster-image.oss-cn-shenzhen.aliyuncs.com/monster/_DSC0109.jpg"];return(n,i)=>(p(),b("div",null,[f(ht),_t,wt,f(yt,{imgList:u})]))}});export{It as __pageData,Lt as default};
