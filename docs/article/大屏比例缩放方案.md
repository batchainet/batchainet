## vue3版本

```Vue
<template>
  <div
    class="sacleBox"
    :style="{backgroundColor:bgColor}"
    ref="sacleRef"
  >
    <slot />
  </div>
</template>

<script setup>
import { onMounted, onUnmounted, reactive, ref } from 'vue'

const props = defineProps({
  width: {
    type: Number
  },
  height: {
    type: Number
  },
  bgColor: {
    type: String
  },
  stretch: {
    type: Boolean,
    default: true
  },
  betterSacle: {
    type: Boolean,
    default: false
  }
})
const sacleRef = ref(null)
const data = reactive({
  width: 0,
  height: 0
})
function setSize () {
  data.width = props.width || screen.width
  data.height = props.height || screen.height
  sacleRef.value.style.width = data.width + 'px'
  sacleRef.value.style.height = data.height + 'px'
}
function setScale () {
  const bodyWidth = document.body.clientWidth
  const bodyHeight = document.body.clientHeight
  const scaleX = bodyWidth / data.width
  const scaleY = bodyHeight / data.height
  // 伸缩模式，会变形
  if (!props.betterSacle && props.stretch) {
    sacleRef.value.style.transform = `scale(${scaleX},${scaleY})`
  } else if (!props.betterSacle && !props.stretch) {
    // 按比例，不会变形
    sacleRef.value.style.top = '50%'
    sacleRef.value.style.left = '50%'
    sacleRef.value.style.transform = `scale(${scaleY}) translate(-50%, -50%)`
  } else {
    const baseWidth = document.documentElement.clientWidth
    const baseHeight = document.documentElement.clientHeight
    const realRatio = baseWidth / baseHeight
    const designRatio = 16 / 9
    let scaleRate = baseWidth / 1920
    if (realRatio > designRatio) {
      scaleRate = baseHeight / 1080
    }
    // sacleRef.value.style.left = '50%'
    // sacleRef.value.style.transform = `scale(${scaleRate}) translateX(-50%)`
    sacleRef.value.style.transform = `scale(${scaleRate}) `
    sacleRef.value.style.width = `${baseWidth / scaleRate}px`
  }
}

onMounted(() => {
  setSize()
  setScale()
  window.addEventListener('resize', setScale)
})
onUnmounted(() => {
  window.removeEventListener('resize', setScale)
})

</script>
<style lang="scss" scoped>
.sacleBox {
  position: fixed;
  transition: 0.3s;
  transform-origin: left top;
}
</style>

```


## vue2版本

```Vue
<template>
    <div
        class="sacleBox"
        :style="{backgroundColor:bgColor}"
        ref="sacleRef"
    >
        <slot />
    </div>
</template>

<script>

export default {
    props: {
        width: {
            type: Number
        },
        height: {
            type: Number
        },
        bgColor: {
            type: String
        }

    },
    data () {
        return {
            widthLen: 0,
            heightLen: 0
        }
    },
    mounted () {
        this.setSize()
        this.setScale()
        window.addEventListener('resize', this.setScale)
    },
    beforeDestroy () {
        window.removeEventListener('resize', this.setScale)
    },
    methods: {
        setSize () {
            this.widthLen = this.width || screen.width
            this.heightLen = this.height || screen.height
            this.$refs.sacleRef.style.width = this.widthLen + 'px'
            this.$refs.sacleRef.style.height = this.heightLen + 'px'
        },
        setScale () {
            const baseWidth = document.documentElement.clientWidth
            const baseHeight = document.documentElement.clientHeight
            const realRatio = baseWidth / baseHeight
            const designRatio = 16 / 9
            let scaleRate = baseWidth / 1920
            if (realRatio > designRatio) {
                scaleRate = baseHeight / 1080
            }
            this.$refs.sacleRef.style.transform = `scale(${scaleRate}) `
            this.$refs.sacleRef.style.width = `${baseWidth / scaleRate}px`
        }

    }

}

</script>

<style lang="scss" scoped>
.sacleBox {
    position: fixed;
    transition: 0.3s;
    transform-origin: left top;
}

</style>
```




## VW方案



```SCSS
@use "sass:math";

// 默认设计稿的宽度
$designWidth: 1920;
// 默认设计稿的高度
$designHeight: 1080;

// px 转为 vw 的函数
@function vw($px) {
    @return math.div($px, $designWidth) * 100vw;
}

// px 转为 vh 的函数
@function vh($px) {
    @return math.div($px, $designHeight) * 100vh;
}
```


